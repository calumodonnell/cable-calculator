<div class="darkness" ng-show="notification || print_drawing || print_quotation"></div>
<div class="navbar-header">
  <div class="container">
    <nav class="navbar" id="cart-nav" role="navigation">
      <ul class="nav navbar-nav">
        <li class="nav-item"><a ui-sref="selector">Add Cable</a></li>
        <li class="nav-item"><a href="" ng-click="showQuotation()">Print Quotation</a></li>
        <!--<li class="nav-item"><a ng-click="metric = !metric;" ng:class="{ 'metric': metric, 'imperial': ! metric }">{{ metric ? 'Select Imperial' : 'Select Metric' }}</a></li>-->
      </ul>
      <div class="cartbar">
        <a ui-sref="cart" class="cart-icon">Cart ({{ cartLength() }})</a>
      </div>
    </nav>
  </div>
</div>
<div class="cable-content" id="cart" hotkey="{'esc': notificationHide}">
  <div class="container container-content">
    <div class="col-md-12 content">
      <div class="content-head">
        <div class="container">
          <h3>Cart</h3>
          <a href="" class="btn btn-primary btn-head" role="button" ng-click="clearCart()" aria-disabled="true">Clear Cart</a>
        </div>
      </div>
      <div class="container content-wrap">
        <div class="order-items">
          <table class="table cart">
            <thead>
              <tr>
                <th>Cable</th>
                <th>Quantity</th>
                <th>Length (<span ng:class="{ 'metric': metric, 'imperial': ! metric }">{{ metric ? 'cm' : 'in' }}</span>)</th>
                <th>Price</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="ca in cart">
                <td class="collapse">
                  <p><b>{{ rflabsPartNo(ca.length, $index) }}</b></p>
                  <p>{{ ca.name }}</p>
                  <p>{{ ca.conn_1_part_no }} - {{ ca.conn_1_description }}</p>
                  <p>{{ ca.conn_2_part_no }} - {{ ca.conn_2_description }}</p>
                </td>
                <td class="collapse"><span class="show-mobile">Quantity </span><input class="form-control" id="quantity" ng-model="ca.quantity" type="number" ng-change="storeQuantity(ca.quantity, $index)"></td>
                <td class="collapse"><span class="show-mobile">Length (<span ng:class="{ 'metric': metric, 'imperial': ! metric }">{{ metric ? 'cm' : 'in' }}</span>) -</span> <input class="form-control" id="length" ng-model="ca.length" type="number" step="any" ng:class="{ 'metric': metric, 'imperial': ! metric }" ng-change="lengthStore(ca.length, $index)" ng-blur="lengthCheck(ca.length)"></td>
                <td class="collapse"><span class="show-mobile">Price: </span>{{ cablePrice($index) | currency: '$' : 2 }} USD</td>
                <td><!--<a href="#/edit?part_id={{ca.id}}&assembly_id={{$index}}" title="Edit Cable Assembly"><span class="icons edit"></span></a>--><a><span class="icons duplicate" ng-click="duplicateItem($index)" title="Duplicate Cable Assembly"></span></a><a ng-click="showDrawing($index)" title="Print Cable Assembly Drawing"><span class="icons print"></span></a><a><span class="icons delete" ng-click="deleteItem($index)" title="Delete Cable Assembly"></span></a></td>
              </tr>
              <tr ng-hide="cart.length">
                <td id="no_cables" colspan="6">You have no cables in your cart.<br>To add cables to your cart please click 'Add Cable' in the top left of the application.</td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td>Total</td>
                <td>{{ totalQuantity() }} cable(s)</td>
                <td></td>
                <td>{{ totalPrice() | currency: '$' : 2 }} USD</td>
                <td></td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>
    </div>
    <div class="notification" ng-show="notification">
      <div class="notification-content">
        <h3 class="notification-title">{{ notification_title }}</h3>
        <p>{{ notification_message }}</p>
        <a href="" class="btn btn-primary" ng-click="notificationHide()">{{ notification_button }}</a>
      </div>
    </div>
    <div class="print-screen" ng-show="print_quotation">
      <div class="preview quotation-preview" id='quotation' ng-include="'../wp-content/plugins/cable-wizard/app/partials/print-quotation.html'"></div>
      <div class="print-buttons">
        <a href="" class="btn btn-primary" ng-click="printQuotation()">Print</a>
        <a href="" class="btn btn-primary" ng-click="quotationHide()">Close</a>
      </div>
    </div>
    <div class="print-screen" ng-show="print_drawing">
      <div class="preview drawing-preview" ng-include="'../wp-content/plugins/cable-wizard/app/partials/print-drawing.html'"></div>
      <div class="print-buttons">
        <a href="" class="btn btn-primary" ng-click="printDrawing()">Print</a>
        <a href="" class="btn btn-primary" ng-click="drawingHide()">Close</a>
      </div>
    </div>
  </div>
</div>
